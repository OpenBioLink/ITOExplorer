(this.webpackJsonpitoexplorer=this.webpackJsonpitoexplorer||[]).push([[0],{233:function(t,n,e){},234:function(t,n,e){},256:function(t,n,e){"use strict";e.r(n);var r=e(6),a=e.n(r),i=e(80),c=e.n(i),u=(e(233),e.p,e(234),e(11)),o=e(12),s=e(13),l=e(15),f=e(2),d=e(81),p=!1;var h=e(4),x=function(t){Object(s.a)(e,t);var n=Object(l.a)(e);function e(){return Object(u.a)(this,e),n.apply(this,arguments)}return Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;Object(d.runSPARQL)("http://explore.ai-strategies.org:9999/blazegraph/namespace/ITO/sparql","\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n            PREFIX ito: <https://identifiers.org/ito:>\n            SELECT DISTINCT ?parent_name ?parent ?child_name ?child\n            WHERE\n            {\n            ?child rdfs:subClassOf+ ito:Process .\n            ?child rdfs:subClassOf ?parent .\n            ?child rdfs:label ?child_name .\n            ?parent rdfs:label ?parent_name .\n            }\n        ").then((function(n){t.drawChart(n)}))}},{key:"drawChart",value:function(t){var n=983,e=n/6,r=f.b(",d"),a=f.a().startAngle((function(t){return t.x0})).endAngle((function(t){return t.x1})).padAngle((function(t){return Math.min((t.x1-t.x0)/2,.005)})).padRadius(245.75).innerRadius((function(t){return t.y0*e})).outerRadius((function(t){return Math.max(t.y0*e,t.y1*e-1)}));t=function(t,n){t.head.vars;for(var e=t.results.bindings,r=new Map,a=new Map,i=n.root,c=!0,u=!0,o=!0,s=0;s<e.length;s++)(c=e[s][n.parent].value)!=(u=e[s][n.child].value)&&(r.has(c)?(o=r.get(c)).push(u):o=[u],r.set(c,o));var l=function t(n){var e=r.get(n);if(e){var i=e.map((function(n){return t(n)})),c=f.j(i,(function(t){return t.value}));return f.j([c,a.get(n)]),{name:n,children:i}}return{name:n,value:a.get(n)||1}}(i);return p&&console.log(JSON.stringify(l)),l}(t,{root:"Process",parent:"parent_name",child:"child_name"});var i=f.h(f.g(f.e,t.children.length+1)),c=function(t){var n=f.c(t).sum((function(t){return t.value})).sort((function(t,n){return n.value-t.value}));return f.f().size([2*Math.PI,n.height+1])(n)}(t);c.each((function(t){return t.current=t}));var u=f.i("#sunburst").append("svg").attr("width",n).attr("height",n).attr("viewBox",[0,0,n,n]).style("font","10px sans-serif").append("g").attr("transform","translate(".concat(491.5,",").concat(491.5,")")),o=u.append("g").selectAll("path").data(c.descendants().slice(1)).join("path").attr("fill",(function(t){for(;t.depth>1;)t=t.parent;return i(t.data.name)})).attr("fill-opacity",(function(t){return h(t.current)?t.children?.6:.4:0})).attr("d",(function(t){return a(t.current)}));o.filter((function(t){return t.children})).style("cursor","pointer").on("click",d),o.append("title").text((function(t){return"".concat(t.ancestors().map((function(t){return t.data.name})).reverse().join("/"),"\n").concat(r(t.value))}));var s=u.append("g").attr("pointer-events","none").attr("text-anchor","middle").style("user-select","none").selectAll("text").data(c.descendants().slice(1)).join("text").attr("dy","0.35em").attr("fill-opacity",(function(t){return+x(t.current)})).attr("transform",(function(t){return g(t.current)})).text((function(t){return t.data.name})),l=u.append("circle").datum(c).attr("r",e).attr("fill","none").attr("pointer-events","all").on("click",d);function d(t,n){l.datum(n.parent||c),c.each((function(t){return t.target={x0:2*Math.max(0,Math.min(1,(t.x0-n.x0)/(n.x1-n.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(t.x1-n.x0)/(n.x1-n.x0)))*Math.PI,y0:Math.max(0,t.y0-n.depth),y1:Math.max(0,t.y1-n.depth)}}));var e=u.transition().duration(750);o.transition(e).tween("data",(function(t){var n=f.d(t.current,t.target);return function(e){return t.current=n(e)}})).filter((function(t){return+this.getAttribute("fill-opacity")||h(t.target)})).attr("fill-opacity",(function(t){return h(t.target)?t.children?.6:.4:0})).attrTween("d",(function(t){return function(){return a(t.current)}})),s.filter((function(t){return+this.getAttribute("fill-opacity")||x(t.target)})).transition(e).attr("fill-opacity",(function(t){return+x(t.target)})).attrTween("transform",(function(t){return function(){return g(t.current)}}))}function h(t){return t.y1<=3&&t.y0>=1&&t.x1>t.x0}function x(t){return t.y1<=3&&t.y0>=1&&(t.y1-t.y0)*(t.x1-t.x0)>.03}function g(t){var n=(t.x0+t.x1)/2*180/Math.PI,r=(t.y0+t.y1)/2*e;return"rotate(".concat(n-90,") translate(").concat(r,",0) rotate(").concat(n<180?0:180,")")}}},{key:"render",value:function(){return Object(h.jsx)("div",{id:"sunburst"})}}]),e}(r.Component),g=x;var m=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(g,{})})},v=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,257)).then((function(n){var e=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,c=n.getTTFB;e(t),r(t),a(t),i(t),c(t)}))};c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root")),v()},81:function(t,n,e){var r=e(236);n.runSPARQL=function(t,n){return console.log(n),new Promise((function(e){var a=new URLSearchParams;a.append("query",n),r.post(t,a,{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(t){e(t.data)})).catch((function(t){console.log(t)}))}))}}},[[256,1,2]]]);
//# sourceMappingURL=main.e8ea63d9.chunk.js.map